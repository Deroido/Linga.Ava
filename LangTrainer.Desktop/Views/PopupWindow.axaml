<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:LangTrainer.Desktop.ViewModels"
        x:Class="LangTrainer.Desktop.Views.PopupWindow"
        x:DataType="vm:PopupViewModel"
        Width="560"
        Height="320"
        CanResize="False"
        Topmost="True"
        ShowInTaskbar="False"
        WindowStartupLocation="CenterScreen"
        Title="LangTrainer"
        Background="#1E2126"
        FontFamily="Candara">
  <Border Padding="16" CornerRadius="12" Background="#22262B">
    <Grid RowDefinitions="Auto,Auto,Auto,Auto,*" RowSpacing="10">
      <Grid ColumnDefinitions="*,Auto" RowDefinitions="Auto">
        <TextBlock Text="LangTrainer"
                   FontSize="14"
                   Foreground="#8FA1B3"
                   VerticalAlignment="Center" />
        <Button Grid.Column="1"
                Width="28"
                Height="28"
                FontSize="14"
                Content="âŸ³"
                ToolTip.Tip="Reload decks"
                Click="ReloadDecks_Click" />
      </Grid>

      <TextBlock Grid.Row="1"
                 Text="{Binding PromptRu}"
                 FontSize="18"
                 Foreground="White"
                 TextWrapping="Wrap" />
      <Grid Grid.Row="2"
            ColumnDefinitions="*,Auto,*"
            HorizontalAlignment="Center">
        <TextBlock Grid.Column="0"
                   Text="{Binding PromptPrefix}"
                   FontSize="22"
                   Foreground="#E3E7ED"
                   TextWrapping="Wrap"
                   TextAlignment="Right" />
        <ComboBox Grid.Column="1"
                  Width="170"
                  ItemsSource="{Binding Options}"
                  SelectionChanged="Options_SelectionChanged"
                  Margin="10,0" />
        <TextBlock Grid.Column="2"
                   Text="{Binding PromptSuffix}"
                   FontSize="22"
                   Foreground="#E3E7ED"
                   TextWrapping="Wrap"
                   TextAlignment="Left" />
      </Grid>

      <TextBox Grid.Row="3"
               Watermark="Type or choose..."
               Text="{Binding UserAnswer, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />

      <Grid Grid.Row="4" RowDefinitions="Auto,Auto,Auto,Auto" RowSpacing="8">
        <StackPanel Orientation="Horizontal" Spacing="8">
          <Button Width="120" Content="Submit" Click="Submit_Click"/>
          <Button Width="120" Content="Skip" Click="Skip_Click"/>
        </StackPanel>

        <TextBlock Grid.Row="1"
                   Text="{Binding ResultText}"
                   Foreground="{Binding ResultBrush}"
                   FontSize="18"
                   FontWeight="Bold"
                   IsVisible="{Binding HasResult}" />

        <Grid Grid.Row="2"
              ColumnDefinitions="*,Auto,*"
              IsVisible="{Binding HasResult}">
          <TextBlock Grid.Column="0"
                     Text="{Binding PhrasePrefix}"
                     FontSize="22"
                     TextWrapping="Wrap"
                     Foreground="White"
                     TextAlignment="Right" />
          <TextBlock Grid.Column="1"
                     Text="{Binding PhraseInsert}"
                     FontSize="24"
                     FontWeight="Bold"
                     Foreground="{Binding InsertBrush}"
                     Margin="10,0"
                     TextAlignment="Center" />
          <TextBlock Grid.Column="2"
                     Text="{Binding PhraseSuffix}"
                     FontSize="22"
                     TextWrapping="Wrap"
                     Foreground="White"
                     TextAlignment="Left" />
        </Grid>

        <TextBlock Grid.Row="3"
                   Text="{Binding CorrectAnswerText}"
                   Foreground="#FFB3B3"
                   TextWrapping="Wrap"
                   IsVisible="{Binding HasResult}" />
      </Grid>
    </Grid>
  </Border>
</Window>
